<mujoco model="handright9253">
  <default>
    <!-- Enable self-collision on all geoms with softer contacts. -->
    <geom contype="1" conaffinity="1" group="1" solref="0.01 1" solimp="0.95 0.99 1e-5" friction="0.8 0.01 0.01"/>
    <!-- More damping/armature to stabilize position control on light links. -->
    <joint damping="0.5" armature="0.02" frictionloss="0.02"/>
  </default>
  <compiler angle="radian" meshdir="meshes/"/>
  <option gravity="0 0 0" timestep="0.001" integrator="implicit">
    <flag limit="enable"/>
  </option>

  <asset>
    <mesh name="base_link" content_type="model/stl" file="base_link.STL"/>
    <mesh name="Link3" content_type="model/stl" file="Link3.STL"/>
    <mesh name="Link4" content_type="model/stl" file="Link4.STL"/>
    <mesh name="Link13" content_type="model/stl" file="Link13.STL"/>
    <mesh name="Link14" content_type="model/stl" file="Link14.STL"/>
    <mesh name="Link23" content_type="model/stl" file="Link23.STL"/>
    <mesh name="Link24" content_type="model/stl" file="Link24.STL"/>
    <mesh name="Link33" content_type="model/stl" file="Link33.STL"/>
    <mesh name="Link34" content_type="model/stl" file="Link34.STL"/>
    <mesh name="Link43" content_type="model/stl" file="Link43.STL"/>
    <mesh name="Link44" content_type="model/stl" file="Link44.STL"/>
    <mesh name="Link47" content_type="model/stl" file="Link47.STL"/>
    <mesh name="Link48" content_type="model/stl" file="Link48.STL"/>
  </asset>

  <worldbody>
    <geom name="floor" type="plane" size="5 5 0.1" pos="0 0 0" rgba="0.9 0.9 0.9 1" contype="1" conaffinity="1" group="1"/>
    <light name="dome_light" pos="0 0 3" dir="0 0 -1" diffuse="0.8 0.8 0.8" specular="0.1 0.1 0.1" directional="false"/>
    <body name="tracker_marker" mocap="true">
      <geom name="tracker_marker_geom" type="sphere" size="0.01" rgba="1 0.2 0.2 1" contype="0" conaffinity="0"/>
      <geom name="tracker_axis_x" type="cylinder" size="0.002 0.03" pos="0.03 0 0" quat="0.70710678 0 0.70710678 0" rgba="1 0 0 1" contype="0" conaffinity="0"/>
      <geom name="tracker_axis_y" type="cylinder" size="0.002 0.03" pos="0 0.03 0" quat="0.70710678 -0.70710678 0 0" rgba="0 1 0 1" contype="0" conaffinity="0"/>
      <geom name="tracker_axis_z" type="cylinder" size="0.002 0.03" pos="0 0 0.03" rgba="0 0 1 1" contype="0" conaffinity="0"/>
    </body>
    <body name="human_frame" mocap="true">
      <geom name="human_origin" type="sphere" size="0.008" rgba="1 0.8 0.2 1" contype="0" conaffinity="0"/>
      <geom name="human_axis_x" type="cylinder" size="0.002 0.04" pos="0.04 0 0" quat="0.70710678 0 0.70710678 0" rgba="1 0.6 0 1" contype="0" conaffinity="0"/>
      <geom name="human_axis_y" type="cylinder" size="0.002 0.04" pos="0 0.04 0" quat="0.70710678 -0.70710678 0 0" rgba="0 0.8 1 1" contype="0" conaffinity="0"/>
      <geom name="human_axis_z" type="cylinder" size="0.002 0.04" pos="0 0 0.04" rgba="0.9 0.9 0 1" contype="0" conaffinity="0"/>
    </body>
    <body name="hand_mocap" mocap="true"/>
    <geom name="axis_x" type="cylinder" size="0.005 0.05" pos="0.05 0 0" quat="0.70710678 0 0.70710678 0" rgba="1 0 0 1" contype="0" conaffinity="0"/>
    <geom name="axis_y" type="cylinder" size="0.005 0.05" pos="0 0.05 0" quat="0.70710678 -0.70710678 0 0" rgba="0 1 0 1" contype="0" conaffinity="0"/>
    <geom name="axis_z" type="cylinder" size="0.005 0.05" pos="0 0 0.05" rgba="0 0 1 1" contype="0" conaffinity="0"/>
    <body name="hand_base" pos="0 0 0.3">
      <freejoint name="root_free"/>

      <geom name="base_root_marker" type="sphere" size="0.01" pos="0 0 0" rgba="0.2 0.6 0.9 1"/>
      <body name="hand_root" pos="0 0 0" quat="0.5 -0.5 -0.5 -0.5">
        <geom pos="0 0 0" quat="0.707107 -0.707107 0 0" type="mesh" rgba="1 1 1 1" mesh="base_link"/>
        <body name="Link3" pos="0.000285 -0.027269 0.1366" quat="-2.55162e-06 2.64228e-06 0.694658 0.71934">
        <inertial pos="0.0031774 0.017383 0.00090008" quat="0.491211 0.50867 -0.491172 0.508643" mass="0.0042403" diaginertia="6.9398e-07 6.62871e-07 2.10909e-07"/>
        <joint name="joint03" pos="0 0 0" axis="-0 -0 -1" range="0 2" actuatorfrcrange="-50 50"/>
        <geom type="mesh" rgba="1 1 1 1" mesh="Link3"/>
        <body name="Link4" pos="0.0070171 0.037468 -0.00215">
          <inertial pos="-0.0019697 0.019589 0.00305" quat="0.531152 0.466773 -0.531153 0.466773" mass="0.0045683" diaginertia="7.8179e-07 7.72465e-07 8.47212e-08"/>
          <joint name="joint34" pos="0 0 0" axis="-0 -0 -1" range="0 1.7" actuatorfrcrange="-50 50"/>
          <geom type="mesh" rgba="1 1 1 1" mesh="Link4"/>
        </body>
        </body>
      <body name="Link13" pos="0.000285 -0.00795 0.1371" quat="-2.59735e-06 2.59735e-06 0.707107 0.707107">
        <inertial pos="0.0030737 0.017402 0.00090013" quat="0.489693 0.510131 -0.489653 0.510105" mass="0.0042403" diaginertia="6.9397e-07 6.62865e-07 2.10915e-07"/>
        <joint name="joint013" pos="0 0 0" axis="0 0 -1" range="-2 2" actuatorfrcrange="-50 50"/>
        <geom type="mesh" rgba="1 1 1 1" mesh="Link13"/>
        <body name="Link14" pos="0.0067937 0.037509 -0.00215">
          <inertial pos="-0.001921 0.020796 0.00305" quat="0.531626 0.466147 -0.531705 0.466229" mass="0.0050396" diaginertia="9.8384e-07 9.73279e-07 9.14014e-08"/>
        <joint name="joint1314" pos="0 0 0" axis="-0 -0 -1" range="0 1.7" actuatorfrcrange="-50 50"/>
          <geom type="mesh" rgba="1 1 1 1" mesh="Link14"/>
        </body>
      </body>
      <body name="Link23" pos="0.000285 0.011284 0.13681" quat="-2.66445e-06 2.52847e-06 -0.725374 -0.688355">
        <inertial pos="0.0030737 0.017402 0.00090015" quat="0.489691 0.510129 -0.489655 0.510107" mass="0.0042403" diaginertia="6.9397e-07 6.62865e-07 2.10915e-07"/>
        <joint name="joint023" pos="0 0 0" axis="-0 -0 -1" range="0 2" actuatorfrcrange="-50 50"/>
        <geom type="mesh" rgba="1 1 1 1" mesh="Link23"/>
        <body name="Link24" pos="0.0067937 0.037509 -0.00215">
          <inertial pos="-0.0021753 0.019567 0.00305" quat="0.528695 0.469554 -0.528695 0.469554" mass="0.0045683" diaginertia="7.8177e-07 7.72448e-07 8.4722e-08"/>
          <joint name="joint2324" pos="0 0 0" axis="-0 -0 -1" range="0 1.7" actuatorfrcrange="-50 50"/>
          <geom type="mesh" rgba="1 1 1 1" mesh="Link24"/>
        </body>
      </body>
      <body name="Link33" pos="0.000285 0.030477 0.13551" quat="-2.72972e-06 2.45785e-06 -0.743145 -0.669131">
        <inertial pos="0.0030737 0.017402 0.00090014" quat="0.489692 0.510129 -0.489654 0.510107" mass="0.0042403" diaginertia="6.9398e-07 6.62865e-07 2.10915e-07"/>
        <joint name="joint033" pos="0 0 0" axis="-0 -0 -1" range="0 2" actuatorfrcrange="-100 100"/>
        <geom type="mesh" rgba="1 1 1 1" mesh="Link33"/>
        <body name="Link34" pos="0.0067937 0.037509 -0.00215">
          <inertial pos="-0.0024748 0.016203 0.0030531" quat="0.528862 0.47398 -0.524799 0.469291" mass="0.0035996" diaginertia="4.4867e-07 4.43723e-07 6.56538e-08"/>
          <joint name="joint3334" pos="0 0 0" axis="-0 -0 -1" range="0 1.7" actuatorfrcrange="-50 50"/>
          <geom type="mesh" rgba="1 1 1 1" mesh="Link34"/>
        </body>
      </body>
      <body name="Link43" pos="-0.02296 -0.02045 0.05885" quat="0.707105 1.30815e-06 1.2892e-06 0.707108">
        <inertial pos="-0.0078715 0.0065154 0.00388" quat="0.515015 0.680854 0.408023 0.323596" mass="0.0018869" diaginertia="8.66026e-08 6.8732e-08 4.94194e-08"/>
        <joint name="joint043" pos="0 0 0" axis="0 0 -1" range="-2 2" actuatorfrcrange="-50 50"/>
        <geom type="mesh" rgba="1 1 1 1" mesh="Link43"/>
        <body name="Link44" pos="-0.012782 0.013348 0.0022" quat="0.0996843 0.0996847 0.700046 0.700044">
          <inertial pos="0.021932 0.012785 -0.0047886" quat="-0.254484 0.660712 0.251903 0.659729" mass="0.0066075" diaginertia="2.78601e-06 2.43937e-06 8.64621e-07"/>
          <joint name="joint4344" pos="0 0 0" axis="-0 -0 1" range="0 0.5" actuatorfrcrange="-50 50"/>
          <geom type="mesh" rgba="1 1 1 1" mesh="Link44"/>
          <body name="Link47" pos="0.05507 0.025553 -0.00355" quat="1.34924e-11 3.67321e-06 1 3.67321e-06">
            <inertial pos="-0.0060688 0.011295 0.00099972" quat="0.307389 0.636718 -0.307548 0.636802" mass="0.0037847" diaginertia="4.6531e-07 4.48089e-07 2.45661e-07"/>
            <joint name="joint4447" pos="0 0 0" axis="0 0 -1" range="-2 2" actuatorfrcrange="-50 50"/>
            <geom type="mesh" rgba="1 1 1 1" mesh="Link47"/>
            <body name="Link48" pos="-0.016763 0.023079 -0.00255">
              <inertial pos="-0.0092888 0.0049529 0.0035533" quat="0.266292 0.655966 -0.262808 0.655537" mass="0.0033441" diaginertia="2.0026e-07 1.95247e-07 8.1593e-08"/>
              <joint name="joint4748" pos="0 0 0" axis="0 0 -1" range="0 1.2" actuatorfrcrange="-50 50"/>
              <geom type="mesh" rgba="1 1 1 1" mesh="Link48"/>
            </body>
          </body>
        </body>
      </body>
      </body>
    </body>
</worldbody>

  <equality>
    <weld name="hand_mocap_weld" body1="hand_mocap" body2="hand_base"
          relpose="0 0 0 1 0 0 0"
          solref="0.01 1" solimp="0.9 0.95 0.001"/>
  </equality>

  <contact>
    <exclude body1="hand_root" body2="Link3"/>
    <exclude body1="Link3" body2="Link4"/>
    <exclude body1="hand_root" body2="Link13"/>
    <exclude body1="Link13" body2="Link14"/>
    <exclude body1="hand_root" body2="Link23"/>
    <exclude body1="Link23" body2="Link24"/>
    <exclude body1="hand_root" body2="Link33"/>
    <exclude body1="Link33" body2="Link34"/>
    <exclude body1="hand_root" body2="Link43"/>
    <exclude body1="Link43" body2="Link44"/>
    <exclude body1="Link44" body2="Link47"/>
    <exclude body1="Link47" body2="Link48"/>
  </contact>

  <actuator>
    <position name="index_joint_0" joint="joint03" ctrlrange="0 1.2" kp="10" kv="2" ctrllimited="true"/>
    <position name="index_joint_1" joint="joint34" ctrlrange="0 1.7" kp="10" kv="2" ctrllimited="true"/>
    <position name="middle_joint_0" joint="joint013" ctrlrange="0 1.2" kp="10" kv="2" ctrllimited="true"/>
    <position name="middle_joint_1" joint="joint1314" ctrlrange="0 1.7" kp="10" kv="2" ctrllimited="true"/>
    <position name="ring_joint_0" joint="joint023" ctrlrange="0 1.2" kp="10" kv="2" ctrllimited="true"/>
    <position name="ring_joint_1" joint="joint2324" ctrlrange="0 1.7" kp="10" kv="2" ctrllimited="true"/>
    <position name="little_joint_0" joint="joint033" ctrlrange="0 1.2" kp="10" kv="2" ctrllimited="true"/>
    <position name="little_joint_1" joint="joint3334" ctrlrange="0 1.7" kp="10" kv="2" ctrllimited="true"/>
    <position name="thumb_joint_0" joint="joint043" ctrlrange="0 1.2" kp="10" kv="2" ctrllimited="true"/>
    <position name="thumb_joint_1" joint="joint4344" ctrlrange="0 0.5" kp="10" kv="2" ctrllimited="true"/>
    <position name="thumb_joint_2" joint="joint4447" ctrlrange="0 0.5" kp="10" kv="2" ctrllimited="true"/>
    <position name="thumb_joint_3" joint="joint4748" ctrlrange="0 0.5" kp="10" kv="2" ctrllimited="true"/>
  </actuator>

  <sensor>
    <framepos name="tracker_pos" objtype="body" objname="tracker_marker"/>
    <framequat name="tracker_quat" objtype="body" objname="tracker_marker"/>
  </sensor>
</mujoco>
